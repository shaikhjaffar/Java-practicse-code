function getOptimalBlock(blocks, reqs) {
  let minDistance = Infinity;
  let optimalBlock = -1;
  for (let i = 0; i < blocks.length; i++) {
    let maxDistance = 0;
    for (let j = 0; j < reqs.length; j++) {
      let distance = getBuildingDistance(blocks, i, reqs[j]);
      if (distance > maxDistance) {
        maxDistance = distance;
      }
    }
    if (maxDistance < minDistance) {
      minDistance = maxDistance;
      optimalBlock = i;
    }
  }
  return optimalBlock;
}

function getBuildingDistance(blocks, blockIndex, building) {
  let distance = 0;
  let found = false;
  for (let i = blockIndex; i < blocks.length; i++) {
    if (blocks[i][building]) {
      found = true;
      break;
    }
    distance++;
  }
  if (!found) {
    distance = Infinity;
  }
  return distance;
}
